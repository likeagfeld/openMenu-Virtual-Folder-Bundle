<Window x:Class="GDMENUCardManager.MetadataScanDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Metadata Cache Required" Height="380" Width="500"
        WindowStartupLocation="CenterOwner" ResizeMode="NoResize">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Message -->
        <StackPanel Grid.Row="0" VerticalAlignment="Center">
            <TextBlock TextWrapping="Wrap" Margin="0 0 0 15">
                Your SD card contains games that were added by an older version of this
                application (or another tool). These games are missing cached metadata
                files that are required for proper operation.
            </TextBlock>

            <TextBlock TextWrapping="Wrap" Margin="0 0 0 10">
                A one-time scan of all disc images will now be performed to:
            </TextBlock>

            <StackPanel Margin="20 0 0 15">
                <TextBlock Text="&#x2022; Read game properties from each disc image"/>
                <TextBlock Text="&#x2022; Cache metadata for faster loading in the future"/>
                <TextBlock Text="&#x2022; Ensure serial IDs display correctly for artwork matching"/>
            </StackPanel>

            <TextBlock TextWrapping="Wrap">
                This process cannot be skipped. Depending on the number of games and
                your drive speed, this may take a few minutes.
            </TextBlock>
        </StackPanel>

        <!-- Game count -->
        <TextBlock Grid.Row="1" Margin="0 10 0 20">
            <Run Text="Games requiring scan: "/>
            <Run Text="{Binding GameCount}"/>
        </TextBlock>

        <!-- Buttons -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Content="Quit" Click="QuitButton_Click" Width="90" Height="28" Margin="0 0 10 0"/>
            <Button Content="Start Scan" Click="StartScanButton_Click" Width="90" Height="28" IsDefault="True"/>
        </StackPanel>
    </Grid>
</Window>
